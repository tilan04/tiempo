<!DOCTYPE HTML>

<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:with="http://www.thymeleaf.org/extras/with"
	layout:decorate="~{layout}" with:title="'El tiempo'">
	
		<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF32xL3QN-_imFzooi2vHWpDaJcS7CvfQ&callback=initMap">
</script>
	
<head>
<title>Getting Started: Handling Form Submission</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<div class="container">
<a href="/">Enlace</a>
    <div class="row datosMapaCiudad">
        <div class="datosCiudad col-sm-3">
        Ciudad buscada: <span th:text="${ciudadBuscada}"></span>
	Temperatura: <span th:text="${temperaturaMedia}"></span>
	Huemadad: <span th:text="${humedadMedia}"></span>
	Velocidad viento: <span th:text="${vientoMedia}"></span> </div>
        <div class="mapaCiudad col-sm-5">
        <div id="map" style="height: 600px; width: 100%"></div></div>
    </div>
</div>
    
</body>
<script th:inline="javascript">
/*<![CDATA[*/
var lati =  /*[[${geoName.lat}]]*/ ;
var longi = /*[[${geoName.lng}]]*/;
    var theList = /*[[${listaObservaciones}]]*/;
  
/*]]>*/

var map;
function initMap() {
map = new google.maps.Map(document.getElementById('map'), {
center : {
	lat :lati,
	lng :longi
},
zoom : 10
});
for (i = 0; i < theList.length; i++) {

var marker = new google.maps.Marker({
position : {
lat : theList[i].lat,
lng : theList[i].lng
},
map : map,
title : theList[i].stationName
});
  }
}
</script>

</html>



